import{a as Ir,b as lo,c as ho,d as W,e as yr,f as Xt,g as fo,i as po,j as wr,k as go}from"./chunk-7LJT4Q6H.js";import{$ as cr,$a as gr,A as st,B as sr,Ba as Xs,C as Le,Ca as Qs,D as Us,Da as eo,E as qt,Ea as to,F as ae,G as or,Ga as no,H as xs,I as Fs,J as $s,K as z,L as js,La as ro,M as b,Ma as io,N as R,P as S,Q as Ue,R as Vs,S as P,T as ar,U as T,V as I,Va as so,W as X,Wa as Yt,X as ot,Xa as oo,Y as Gt,Ya as Jt,Z as Hs,Za as ao,_ as xe,_a as co,a as Os,aa as ur,ab as mr,b as Ps,bb as vr,c as rt,ca as zs,d as Xn,da as Kt,db as uo,e as Qn,ea as ye,eb as Zt,f as se,fa as lr,g as U,ga as dr,h as Ds,ha as Ws,i as ks,ia as Fe,j as oe,ja as hr,k as er,ka as Bs,l as tr,la as at,m as nr,ma as qs,n as x,na as fr,o as m,oa as Gs,p as it,pa as we,q as Ns,qa as pr,r as Ms,ra as Ks,s as _,sa as ct,t as rr,u as F,ua as $e,v as Ls,w as ir,wa as Ys,xa as Js,y as Ne,ya as D,z as Me,za as Zs}from"./chunk-KTMB4BNJ.js";import{a as p,b as A,e as Ie,f as l}from"./chunk-X6YOYRVK.js";var Sr=class extends ho{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Tr=class t extends Sr{static makeCurrent(){lo(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Cc();return n==null?null:Oc(n)}resetBaseElement(){ut=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fo(document.cookie,e)}},ut=null;function Cc(){return ut=ut||document.querySelector("base"),ut?ut.getAttribute("href"):null}function Oc(t){return new URL(t,document.baseURI).pathname}var Pc=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),br=new P(""),yo=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new R(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(br),T(D))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Qt=class{constructor(e){this._doc=e}},Er="ng-app-id",wo=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wr(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Er}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Er),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Er,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(W),T(fr),T(pr,8),T(we))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),_r={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ar=/%COMP%/g,Eo="%COMP%",Dc=`_nghost-${Eo}`,kc=`_ngcontent-${Eo}`,Nc=!0,Mc=new P("",{providedIn:"root",factory:()=>Nc});function Lc(t){return kc.replace(Ar,t)}function Uc(t){return Dc.replace(Ar,t)}function _o(t,e){return e.map(n=>n.replace(Ar,t))}var mo=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=wr(c),this.defaultRenderer=new lt(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ot.ShadowDom&&(i=A(p({},i),{encapsulation:ot.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof en?s.applyToHost(r):s instanceof dt&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case ot.Emulated:o=new en(u,d,i,this.appId,h,a,c,f);break;case ot.ShadowDom:return new Rr(u,d,r,i,a,c,this.nonce,f);default:o=new dt(u,d,i,h,a,c,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(yo),T(wo),T(fr),T(Mc),T(W),T(we),T(D),T(pr))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),lt=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_r[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vo(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vo(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new R(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=_r[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=_r[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ct.DashCase|ct.Important)?e.style.setProperty(n,r,i&ct.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ct.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ir().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function vo(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Rr=class extends lt{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=_o(i.id,i.styles);for(let d of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dt=class extends lt{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?_o(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},en=class extends dt{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=Lc(u),this.hostAttr=Uc(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xc=(()=>{let e=class e extends Qt{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(T(W))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Io=["alt","control","meta","shift"],Fc={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$c={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},jc=(()=>{let e=class e extends Qt{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ir().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Io.forEach(d=>{let h=i.indexOf(d);h>-1&&(i.splice(h,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=Fc[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Io.forEach(a=>{if(a!==s){let c=$c[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(W))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function wg(t,e){return uo(p({rootComponent:t},Vc(e)))}function Vc(t){return{appProviders:[...qc,...t?.providers??[]],platformProviders:Bc}}function Hc(){Tr.makeCurrent()}function zc(){return new hr}function Wc(){return qs(document),document}var Bc=[{provide:we,useValue:po},{provide:Gs,useValue:Hc,multi:!0},{provide:W,useFactory:Wc,deps:[]}];var qc=[{provide:zs,useValue:"root"},{provide:hr,useFactory:zc,deps:[]},{provide:br,useClass:xc,multi:!0,deps:[W,D,we]},{provide:br,useClass:jc,multi:!0,deps:[W]},mo,wo,yo,{provide:Ys,useExisting:mo},{provide:go,useClass:Pc,deps:[]},[]];var So=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(W))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var v="primary",Rt=Symbol("RouteTitle"),kr=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function We(t){return new kr(t)}function Kc(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Yc(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!B(t[n],e[n]))return!1;return!0}function B(t,e){let n=t?Nr(t):void 0,r=e?Nr(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Oo(t[i],e[i]))return!1;return!0}function Nr(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Oo(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Po(t){return t.length>0?t[t.length-1]:null}function de(t){return Ns(t)?t:ao(t)?x(Promise.resolve(t)):m(t)}var Jc={exact:ko,subset:No},Do={exact:Zc,subset:Xc,ignored:()=>!0};function To(t,e,n){return Jc[n.paths](t.root,e.root,n.matrixParams)&&Do[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Zc(t,e){return B(t,e)}function ko(t,e,n){if(!_e(t.segments,e.segments)||!sn(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ko(t.children[r],e.children[r],n))return!1;return!0}function Xc(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Oo(t[n],e[n]))}function No(t,e,n){return Mo(t,e,e.segments,n)}function Mo(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!_e(i,n)||e.hasChildren()||!sn(i,n,r))}else if(t.segments.length===n.length){if(!_e(t.segments,n)||!sn(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!No(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!_e(t.segments,i)||!sn(t.segments,i,r)||!t.children[v]?!1:Mo(t.children[v],e,s,r)}}function sn(t,e,n){return e.every((r,i)=>Do[n](t[i].parameters,r.parameters))}var ce=class{constructor(e=new w([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=We(this.queryParams),this._queryParamMap}toString(){return tu.serialize(this)}},w=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return on(this)}},Ee=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=We(this.parameters),this._parameterMap}toString(){return Uo(this)}};function Qc(t,e){return _e(t,e)&&t.every((n,r)=>B(n.parameters,e[r].parameters))}function _e(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function eu(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===v&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==v&&(n=n.concat(e(i,r)))}),n}var si=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>new cn,providedIn:"root"});let t=e;return t})(),cn=class{parse(e){let n=new Lr(e);return new ce(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ht(e.root,!0)}`,r=iu(e.queryParams),i=typeof e.fragment=="string"?`#${nu(e.fragment)}`:"";return`${n}${r}${i}`}},tu=new cn;function on(t){return t.segments.map(e=>Uo(e)).join("/")}function ht(t,e){if(!t.hasChildren())return on(t);if(e){let n=t.children[v]?ht(t.children[v],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==v&&r.push(`${i}:${ht(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=eu(t,(r,i)=>i===v?[ht(t.children[v],!1)]:[`${i}:${ht(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[v]!=null?`${on(t)}/${n[0]}`:`${on(t)}/(${n.join("//")})`}}function Lo(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nn(t){return Lo(t).replace(/%3B/gi,";")}function nu(t){return encodeURI(t)}function Mr(t){return Lo(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function an(t){return decodeURIComponent(t)}function bo(t){return an(t.replace(/\+/g,"%20"))}function Uo(t){return`${Mr(t.path)}${ru(t.parameters)}`}function ru(t){return Object.entries(t).map(([e,n])=>`;${Mr(e)}=${Mr(n)}`).join("")}function iu(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${nn(n)}=${nn(i)}`).join("&"):`${nn(n)}=${nn(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var su=/^[^\/()?;#]+/;function Cr(t){let e=t.match(su);return e?e[0]:""}var ou=/^[^\/()?;=#]+/;function au(t){let e=t.match(ou);return e?e[0]:""}var cu=/^[^=?&#]+/;function uu(t){let e=t.match(cu);return e?e[0]:""}var lu=/^[^&#]+/;function du(t){let e=t.match(lu);return e?e[0]:""}var Lr=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new w([],{}):new w([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[v]=new w(e,n)),r}parseSegment(){let e=Cr(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(e),new Ee(an(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=au(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Cr(this.remaining);i&&(r=i,this.capture(r))}e[an(n)]=an(r)}parseQueryParam(e){let n=uu(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=du(this.remaining);o&&(r=o,this.capture(r))}let i=bo(n),s=bo(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Cr(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=v);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[v]:new w([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new R(4011,!1)}};function xo(t){return t.segments.length>0?new w([],{[v]:t}):t}function Fo(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Fo(i);if(r===v&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new w(t.segments,e);return hu(n)}function hu(t){if(t.numberOfChildren===1&&t.children[v]){let e=t.children[v];return new w(t.segments.concat(e.segments),e.children)}return t}function Be(t){return t instanceof ce}function fu(t,e,n=null,r=null){let i=$o(t);return jo(i,e,n,r)}function $o(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new w(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=xo(r);return e??i}function jo(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Or(i,i,i,n,r);let s=pu(e);if(s.toRoot())return Or(i,i,new w([],{}),n,r);let o=gu(s,i,t),a=o.processChildren?gt(o.segmentGroup,o.index,s.commands):Ho(o.segmentGroup,o.index,s.commands);return Or(i,o.segmentGroup,a,n,r)}function un(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function It(t){return typeof t=="object"&&t!=null&&t.outlets}function Or(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=Vo(t,e,n);let a=xo(Fo(o));return new ce(a,s,i)}function Vo(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Vo(s,e,n)}),new w(t.segments,r)}var ln=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&un(r[0]))throw new R(4003,!1);let i=r.find(It);if(i&&i!==Po(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pu(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ln(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ln(n,e,r)}var He=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function gu(t,e,n){if(t.isAbsolute)return new He(e,!0,0);if(!n)return new He(e,!1,NaN);if(n.parent===null)return new He(n,!0,0);let r=un(t.commands[0])?0:1,i=n.segments.length-1+r;return mu(n,i,t.numberOfDoubleDots)}function mu(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new He(r,!1,i-s)}function vu(t){return It(t[0])?t[0].outlets:{[v]:t}}function Ho(t,e,n){if(t??=new w([],{}),t.segments.length===0&&t.hasChildren())return gt(t,e,n);let r=Iu(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new w(t.segments.slice(0,r.pathIndex),{});return s.children[v]=new w(t.segments.slice(r.pathIndex),t.children),gt(s,0,i)}else return r.match&&i.length===0?new w(t.segments,{}):r.match&&!t.hasChildren()?Ur(t,e,n):r.match?gt(t,0,i):Ur(t,e,n)}function gt(t,e,n){if(n.length===0)return new w(t.segments,{});{let r=vu(n),i={};if(Object.keys(r).some(s=>s!==v)&&t.children[v]&&t.numberOfChildren===1&&t.children[v].segments.length===0){let s=gt(t.children[v],e,n);return new w(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Ho(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new w(t.segments,i)}}function Iu(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(It(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Ao(c,u,o))return s;r+=2}else{if(!Ao(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ur(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(It(s)){let c=yu(s.outlets);return new w(r,c)}if(i===0&&un(n[0])){let c=t.segments[e];r.push(new Ee(c.path,Ro(n[0]))),i++;continue}let o=It(s)?s.outlets[v]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&un(a)?(r.push(new Ee(o,Ro(a))),i+=2):(r.push(new Ee(o,{})),i++)}return new w(r,{})}function yu(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ur(new w([],{}),0,r))}),e}function Ro(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Ao(t,e,n){return t==n.path&&B(e,n.parameters)}var mt="imperative",C=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(C||{}),$=class{constructor(e,n){this.id=e,this.url=n}},yt=class extends ${constructor(e,n,r="imperative",i=null){super(e,n),this.type=C.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ue=class extends ${constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=C.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},M=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(M||{}),xr=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(xr||{}),le=class extends ${constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=C.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Se=class extends ${constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=C.NavigationSkipped}},wt=class extends ${constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=C.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},dn=class extends ${constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=C.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fr=class extends ${constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=C.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$r=class extends ${constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=C.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jr=class extends ${constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=C.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vr=class extends ${constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=C.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hr=class{constructor(e){this.route=e,this.type=C.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zr=class{constructor(e){this.route=e,this.type=C.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wr=class{constructor(e){this.snapshot=e,this.type=C.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Br=class{constructor(e){this.snapshot=e,this.type=C.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qr=class{constructor(e){this.snapshot=e,this.type=C.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gr=class{constructor(e){this.snapshot=e,this.type=C.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Et=class{},_t=class{constructor(e){this.url=e}};var Kr=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vn,this.attachRef=null}},vn=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Kr,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hn=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Yr(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Yr(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Jr(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Jr(e,this._root).map(n=>n.value)}};function Yr(t,e){if(t===e.value)return e;for(let n of e.children){let r=Yr(t,n);if(r)return r}return null}function Jr(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Jr(t,n);if(r.length)return r.unshift(e),r}return[]}var N=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ve(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var fn=class extends hn{constructor(e,n){super(e),this.snapshot=n,ai(this,e)}toString(){return this.snapshot.toString()}};function zo(t){let e=wu(t),n=new U([new Ee("",{})]),r=new U({}),i=new U({}),s=new U({}),o=new U(""),a=new Te(n,r,s,o,i,v,t,e.root);return a.snapshot=e.root,new fn(new N(a,[]),e)}function wu(t){let e={},n={},r={},i="",s=new St([],e,r,i,n,v,t,null,{});return new pn("",new N(s,[]))}var Te=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_(u=>u[Rt]))??m(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_(e=>We(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_(e=>We(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function oi(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:p(p({},e.params),t.params),data:p(p({},e.data),t.data),resolve:p(p(p(p({},t.data),e.data),i?.data),t._resolvedData)}:r={params:p({},t.params),data:p({},t.data),resolve:p(p({},t.data),t._resolvedData??{})},i&&Bo(i)&&(r.resolve[Rt]=i.title),r}var St=class{get title(){return this.data?.[Rt]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=We(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=We(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},pn=class extends hn{constructor(e,n){super(n),this.url=e,ai(this,n)}toString(){return Wo(this._root)}};function ai(t,e){e.value._routerState=t,e.children.forEach(n=>ai(t,n))}function Wo(t){let e=t.children.length>0?` { ${t.children.map(Wo).join(", ")} } `:"";return`${t.value}${e}`}function Pr(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,B(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),B(e.params,n.params)||t.paramsSubject.next(n.params),Yc(e.url,n.url)||t.urlSubject.next(n.url),B(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Zr(t,e){let n=B(t.params,e.params)&&Qc(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Zr(t.parent,e.parent))}function Bo(t){return typeof t.title=="string"||t.title===null}var Eu=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=v,this.activateEvents=new at,this.deactivateEvents=new at,this.attachEvents=new at,this.detachEvents=new at,this.parentContexts=I(vn),this.location=I(Zs),this.changeDetector=I(vr),this.environmentInjector=I(Kt),this.inputBinder=I(ci,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Xr(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=cr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lr]});let t=e;return t})(),Xr=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Te?this.route:e===vn?this.childContexts:this.parent.get(e,n)}},ci=new P("");function _u(t,e,n){let r=Tt(t,e._root,n?n._root:void 0);return new fn(r,e)}function Tt(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Su(t,e,n);return new N(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Tt(t,a)),o}}let r=Tu(e.value),i=e.children.map(s=>Tt(t,s));return new N(r,i)}}function Su(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Tt(t,r,i);return Tt(t,r)})}function Tu(t){return new Te(new U(t.url),new U(t.params),new U(t.queryParams),new U(t.fragment),new U(t.data),t.outlet,t.component,t)}var qo="ngNavigationCancelingError";function Go(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Be(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ko(!1,M.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ko(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[qo]=!0,n.cancellationCode=e,n}function bu(t){return Yo(t)&&Be(t.url)}function Yo(t){return!!t&&t[qo]}var Ru=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Hs({type:e,selectors:[["ng-component"]],standalone:!0,features:[so],decls:1,vars:0,template:function(i,s){i&1&&ro(0,"router-outlet")},dependencies:[Eu],encapsulation:2});let t=e;return t})();function Au(t,e){return t.providers&&!t._injector&&(t._injector=eo(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ui(t){let e=t.children&&t.children.map(ui),n=e?A(p({},t),{children:e}):p({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==v&&(n.component=Ru),n}function q(t){return t.outlet||v}function Cu(t,e){let n=t.filter(r=>q(r)===e);return n.push(...t.filter(r=>q(r)!==e)),n}function At(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ou=(t,e,n,r)=>_(i=>(new Qr(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Qr=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Pr(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ve(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ve(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ve(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ve(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Gr(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Br(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Pr(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Pr(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=At(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},gn=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ze=class{constructor(e,n){this.component=e,this.route=n}};function Pu(t,e,n){let r=t._root,i=e?e._root:null;return ft(r,i,n,[r.value])}function Du(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ge(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Vs(t)?t:e.get(t):r}function ft(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ve(e);return t.children.forEach(o=>{ku(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>vt(a,n.getContext(o),i)),i}function ku(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Nu(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new gn(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ft(t,e,a?a.children:null,r,i):ft(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ze(a.outlet.component,o))}else o&&vt(e,a,i),i.canActivateChecks.push(new gn(r)),s.component?ft(t,null,a?a.children:null,r,i):ft(t,null,n,r,i);return i}function Nu(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!_e(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_e(t.url,e.url)||!B(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zr(t,e)||!B(t.queryParams,e.queryParams);case"paramsChange":default:return!Zr(t,e)}}function vt(t,e,n){let r=Ve(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?vt(o,e.children.getContext(s),n):vt(o,null,n):vt(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ze(e.outlet.component,i)):n.canDeactivateChecks.push(new ze(null,i)):n.canDeactivateChecks.push(new ze(null,i))}function Ct(t){return typeof t=="function"}function Mu(t){return typeof t=="boolean"}function Lu(t){return t&&Ct(t.canLoad)}function Uu(t){return t&&Ct(t.canActivate)}function xu(t){return t&&Ct(t.canActivateChild)}function Fu(t){return t&&Ct(t.canDeactivate)}function $u(t){return t&&Ct(t.canMatch)}function Jo(t){return t instanceof Ms||t?.name==="EmptyError"}var rn=Symbol("INITIAL_VALUE");function qe(){return z(t=>rr(t.map(e=>e.pipe(Le(1),$s(rn)))).pipe(_(e=>{for(let n of e)if(n!==!0){if(n===rn)return rn;if(n===!1||n instanceof ce)return n}return!0}),Ne(e=>e!==rn),Le(1)))}function ju(t,e){return F(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?m(A(p({},n),{guardsResult:!0})):Vu(o,r,i,t).pipe(F(a=>a&&Mu(a)?Hu(r,s,t,e):m(a)),_(a=>A(p({},n),{guardsResult:a})))})}function Vu(t,e,n,r){return x(t).pipe(F(i=>Gu(i.component,i.route,n,e,r)),ae(i=>i!==!0,!0))}function Hu(t,e,n,r){return x(e).pipe(st(i=>Ls(Wu(i.route.parent,r),zu(i.route,r),qu(t,i.path,n),Bu(t,i.route,n))),ae(i=>i!==!0,!0))}function zu(t,e){return t!==null&&e&&e(new qr(t)),m(!0)}function Wu(t,e){return t!==null&&e&&e(new Wr(t)),m(!0)}function Bu(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return m(!0);let i=r.map(s=>ir(()=>{let o=At(e)??n,a=Ge(s,o),c=Uu(a)?a.canActivate(e,t):ye(o,()=>a(e,t));return de(c).pipe(ae())}));return m(i).pipe(qe())}function qu(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Du(o)).filter(o=>o!==null).map(o=>ir(()=>{let a=o.guards.map(c=>{let u=At(o.node)??n,d=Ge(c,u),h=xu(d)?d.canActivateChild(r,t):ye(u,()=>d(r,t));return de(h).pipe(ae())});return m(a).pipe(qe())}));return m(s).pipe(qe())}function Gu(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return m(!0);let o=s.map(a=>{let c=At(e)??i,u=Ge(a,c),d=Fu(u)?u.canDeactivate(t,e,n,r):ye(c,()=>u(t,e,n,r));return de(d).pipe(ae())});return m(o).pipe(qe())}function Ku(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return m(!0);let s=i.map(o=>{let a=Ge(o,t),c=Lu(a)?a.canLoad(e,n):ye(t,()=>a(e,n));return de(c)});return m(s).pipe(qe(),Zo(r))}function Zo(t){return Ps(b(e=>{if(Be(e))throw Go(t,e)}),_(e=>e===!0))}function Yu(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return m(!0);let s=i.map(o=>{let a=Ge(o,t),c=$u(a)?a.canMatch(e,n):ye(t,()=>a(e,n));return de(c)});return m(s).pipe(qe(),Zo(r))}var bt=class{constructor(e){this.segmentGroup=e||null}},mn=class extends Error{constructor(e){super(),this.urlTree=e}};function je(t){return it(new bt(t))}function Ju(t){return it(new R(4e3,!1))}function Zu(t){return it(Ko(!1,M.GuardRejected))}var ei=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return m(r);if(i.numberOfChildren>1||!i.children[v])return Ju(e.redirectTo);i=i.children[v]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new mn(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ce(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new w(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ti={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xu(t,e,n,r,i){let s=li(t,e,n);return s.matched?(r=Au(e,r),Yu(r,e,n,i).pipe(_(o=>o===!0?s:p({},ti)))):m(s)}function li(t,e,n){if(e.path==="**")return Qu(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?p({},ti):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Kc)(n,t,e);if(!i)return p({},ti);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?p(p({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Qu(t){return{matched:!0,parameters:t.length>0?Po(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Co(t,e,n,r){return n.length>0&&nl(t,n,r)?{segmentGroup:new w(e,tl(r,new w(n,t.children))),slicedSegments:[]}:n.length===0&&rl(t,n,r)?{segmentGroup:new w(t.segments,el(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new w(t.segments,t.children),slicedSegments:n}}function el(t,e,n,r){let i={};for(let s of n)if(In(t,e,s)&&!r[q(s)]){let o=new w([],{});i[q(s)]=o}return p(p({},r),i)}function tl(t,e){let n={};n[v]=e;for(let r of t)if(r.path===""&&q(r)!==v){let i=new w([],{});n[q(r)]=i}return n}function nl(t,e,n){return n.some(r=>In(t,e,r)&&q(r)!==v)}function rl(t,e,n){return n.some(r=>In(t,e,r))}function In(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function il(t,e,n,r){return q(t)!==r&&(r===v||!In(e,n,t))?!1:li(e,t,n).matched}function sl(t,e,n){return e.length===0&&!t.children[n]}var ni=class{};function ol(t,e,n,r,i,s,o="emptyOnly"){return new ri(t,e,n,r,i,o,s).recognize()}var al=31,ri=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new ei(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new R(4002,`'${e.segmentGroup}'`)}recognize(){let e=Co(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(_(n=>{let r=new St([],Object.freeze({}),Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,{},v,this.rootComponentType,null,{}),i=new N(r,n),s=new pn("",i),o=fu(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,v).pipe(Me(r=>{if(r instanceof mn)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bt?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=oi(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(_(s=>s instanceof N?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return x(i).pipe(st(s=>{let o=r.children[s],a=Cu(n,s);return this.processSegmentGroup(e,a,o,s)}),Fs((s,o)=>(s.push(...o),s)),sr(null),xs(),F(s=>{if(s===null)return je(r);let o=Xo(s);return cl(o),m(o)}))}processSegment(e,n,r,i,s,o){return x(n).pipe(st(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Me(c=>{if(c instanceof bt)return m(null);throw c}))),ae(a=>!!a),Me(a=>{if(Jo(a))return sl(r,i,s)?m(new ni):je(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return il(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):je(i):je(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:d}=li(n,i,s);if(!a)return je(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>al&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,h).pipe(F(f=>this.processSegment(e,r,n,f.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=Xu(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(z(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(z(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:d,remainingSegments:h,parameters:f}=a,y=new St(d,f,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,ll(r),q(r),r.component??r._loadedComponent??null,r,dl(r)),{segmentGroup:L,slicedSegments:ie}=Co(n,d,h,c);if(ie.length===0&&L.hasChildren())return this.processChildren(u,c,L).pipe(_(H=>H===null?null:new N(y,H)));if(c.length===0&&ie.length===0)return m(new N(y,[]));let ve=q(r)===s;return this.processSegment(u,c,L,ie,ve?v:s,!0).pipe(_(H=>new N(y,H instanceof N?[H]:[])))}))):je(n)))}getChildConfig(e,n,r){return n.children?m({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?m({routes:n._loadedRoutes,injector:n._loadedInjector}):Ku(e,n,r,this.urlSerializer).pipe(F(i=>i?this.configLoader.loadChildren(e,n).pipe(b(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Zu(n))):m({routes:[],injector:e})}};function cl(t){t.sort((e,n)=>e.value.outlet===v?-1:n.value.outlet===v?1:e.value.outlet.localeCompare(n.value.outlet))}function ul(t){let e=t.value.routeConfig;return e&&e.path===""}function Xo(t){let e=[],n=new Set;for(let r of t){if(!ul(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Xo(r.children);e.push(new N(r.value,i))}return e.filter(r=>!n.has(r))}function ll(t){return t.data||{}}function dl(t){return t.resolve||{}}function hl(t,e,n,r,i,s){return F(o=>ol(t,e,n,r,o.extractedUrl,i,s).pipe(_(({state:a,tree:c})=>A(p({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function fl(t,e){return F(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return m(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Qo(c))o.add(u);let a=0;return x(o).pipe(st(c=>s.has(c)?pl(c,r,t,e):(c.data=oi(c,c.parent,t).resolve,m(void 0))),b(()=>a++),or(1),F(c=>a===o.size?m(n):oe))})}function Qo(t){let e=t.children.map(n=>Qo(n)).flat();return[t,...e]}function pl(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Bo(i)&&(s[Rt]=i.title),gl(s,t,e,r).pipe(_(o=>(t._resolvedData=o,t.data=oi(t,t.parent,n).resolve,null)))}function gl(t,e,n,r){let i=Nr(t);if(i.length===0)return m({});let s={};return x(i).pipe(F(o=>ml(t[o],e,n,r).pipe(ae(),b(a=>{s[o]=a}))),or(1),Us(s),Me(o=>Jo(o)?oe:it(o)))}function ml(t,e,n,r){let i=At(e)??r,s=Ge(t,i),o=s.resolve?s.resolve(e,n):ye(i,()=>s(e,n));return de(o)}function Dr(t){return z(e=>{let n=t(e);return n?x(n).pipe(_(()=>e)):m(e)})}var ea=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===v);return i}getResolvedTitleForRoute(r){return r.data[Rt]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>I(vl),providedIn:"root"});let t=e;return t})(),vl=(()=>{let e=class e extends ea{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(So))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),di=new P("",{providedIn:"root",factory:()=>({})}),hi=new P(""),Il=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(mr)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return m(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=de(r.loadComponent()).pipe(_(ta),b(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),qt(()=>{this.componentLoaders.delete(r)})),s=new Qn(i,()=>new se).pipe(Xn());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return m({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=yl(i,this.compiler,r,this.onLoadEndListener).pipe(qt(()=>{this.childrenLoaders.delete(i)})),a=new Qn(o,()=>new se).pipe(Xn());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yl(t,e,n,r){return de(t.loadChildren()).pipe(_(ta),F(i=>i instanceof Qs||Array.isArray(i)?m(i):x(e.compileModuleAsync(i))),_(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(hi,[],{optional:!0,self:!0}).flat()),{routes:o.map(ui),injector:s}}))}function wl(t){return t&&typeof t=="object"&&"default"in t}function ta(t){return wl(t)?t.default:t}var fi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>I(El),providedIn:"root"});let t=e;return t})(),El=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_l=new P("");var Sl=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new se,this.transitionAbortSubject=new se,this.configLoader=I(Il),this.environmentInjector=I(Kt),this.urlSerializer=I(si),this.rootContexts=I(vn),this.location=I(Xt),this.inputBindingEnabled=I(ci,{optional:!0})!==null,this.titleStrategy=I(ea),this.options=I(di,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(fi),this.createViewTransition=I(_l,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>m(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Hr(s)),i=s=>this.events.next(new zr(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(A(p(p({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new U({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mt,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ne(o=>o.id!==0),_(o=>A(p({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),z(o=>{let a=!1,c=!1;return m(o).pipe(z(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",M.SupersededByNewNavigation),oe;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?A(p({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&h!=="reload"){let f="";return this.events.next(new Se(u.id,this.urlSerializer.serialize(u.rawUrl),f,xr.IgnoredSameUrlNavigation)),u.resolve(null),oe}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return m(u).pipe(z(f=>{let y=this.transitions?.getValue();return this.events.next(new yt(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),y!==this.transitions?.getValue()?oe:Promise.resolve(f)}),hl(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),b(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=A(p({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let y=new dn(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:f,extractedUrl:y,source:L,restoredState:ie,extras:ve}=u,H=new yt(f,this.urlSerializer.serialize(y),L,ie);this.events.next(H);let Bt=zo(this.rootComponentType).snapshot;return this.currentTransition=o=A(p({},u),{targetSnapshot:Bt,urlAfterRedirects:y,extras:A(p({},ve),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,m(o)}else{let f="";return this.events.next(new Se(u.id,this.urlSerializer.serialize(u.extractedUrl),f,xr.IgnoredByUrlHandlingStrategy)),u.resolve(null),oe}}),b(u=>{let d=new Fr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),_(u=>(this.currentTransition=o=A(p({},u),{guards:Pu(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),ju(this.environmentInjector,u=>this.events.next(u)),b(u=>{if(o.guardsResult=u.guardsResult,Be(u.guardsResult))throw Go(this.urlSerializer,u.guardsResult);let d=new $r(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Ne(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",M.GuardRejected),!1)),Dr(u=>{if(u.guards.canActivateChecks.length)return m(u).pipe(b(d=>{let h=new jr(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),z(d=>{let h=!1;return m(d).pipe(fl(this.paramsInheritanceStrategy,this.environmentInjector),b({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",M.NoDataFromResolver)}}))}),b(d=>{let h=new Vr(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),Dr(u=>{let d=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(b(y=>{h.component=y}),_(()=>{})));for(let y of h.children)f.push(...d(y));return f};return rr(d(u.targetSnapshot.root)).pipe(sr(null),Le(1))}),Dr(()=>this.afterPreactivation()),z(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return h?x(h).pipe(_(()=>o)):m(o)}),_(u=>{let d=_u(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=A(p({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),b(()=>{this.events.next(new Et)}),Ou(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Le(1),b({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ue(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),js(this.transitionAbortSubject.pipe(b(u=>{throw u}))),qt(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",M.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Me(u=>{if(c=!0,Yo(u))this.events.next(new le(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),bu(u)?this.events.next(new _t(u.url)):o.resolve(!1);else{this.events.next(new wt(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return oe}))}))}cancelNavigationTransition(r,i,s){let o=new le(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Tl(t){return t!==mt}var bl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>I(Rl),providedIn:"root"});let t=e;return t})(),ii=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Rl=(()=>{let e=class e extends ii{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=dr(e)))(s||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),na=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>I(Al),providedIn:"root"});let t=e;return t})(),Al=(()=>{let e=class e extends na{constructor(){super(...arguments),this.location=I(Xt),this.urlSerializer=I(si),this.options=I(di,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(fi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ce,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zo(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof yt)this.stateMemento=this.createStateMemento();else if(r instanceof Se)this.rawUrlTree=i.initialUrl;else if(r instanceof dn){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Et?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof le&&(r.code===M.GuardRejected||r.code===M.NoDataFromResolver)?this.restoreHistory(i):r instanceof wt?this.restoreHistory(i,!0):r instanceof ue&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=p(p({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=p(p({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=dr(e)))(s||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pt=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(pt||{});function Cl(t,e){t.events.pipe(Ne(n=>n instanceof ue||n instanceof le||n instanceof wt||n instanceof Se),_(n=>n instanceof ue||n instanceof Se?pt.COMPLETE:(n instanceof le?n.code===M.Redirect||n.code===M.SupersededByNewNavigation:!1)?pt.REDIRECTING:pt.FAILED),Ne(n=>n!==pt.REDIRECTING),Le(1)).subscribe(()=>{e()})}function Ol(t){throw t}var Pl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pi=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(Jt),this.stateManager=I(na),this.options=I(di,{optional:!0})||{},this.pendingTasks=I(to),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(Sl),this.urlSerializer=I(si),this.location=I(Xt),this.urlHandlingStrategy=I(fi),this._events=new se,this.errorHandler=this.options.errorHandler||Ol,this.navigated=!1,this.routeReuseStrategy=I(bl),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(hi,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(ci,{optional:!0}),this.eventsSubscription=new Os,this.isNgZoneEnabled=I(D)instanceof D&&D.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof le&&i.code!==M.Redirect&&i.code!==M.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ue)this.navigated=!0;else if(i instanceof _t){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Tl(s.source)};this.scheduleNavigation(a,mt,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Nl(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=p({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ui),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,d=u?this.currentUrlTree.fragment:a,h=null;switch(c){case"merge":h=p(p({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let y=s?s.snapshot:this.routerState.snapshot.root;f=$o(y)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return jo(f,r,h,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Be(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,mt,null,i)}navigate(r,i={skipLocationChange:!1}){return kl(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=p({},Pl):i===!1?s=p({},Dl):s=i,Be(r))return To(this.currentUrlTree,r,s);let o=this.parseUrl(r);return To(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((f,y)=>{c=f,u=y});let h=this.pendingTasks.add();return Cl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kl(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new R(4008,!1)}function Nl(t){return!(t instanceof Et)&&!(t instanceof _t)}var Qg=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new se,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof ue&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Ks(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)($e(pi),$e(Te),Ws("tabindex"),$e(Js),$e(Bs),$e(yr))},e.\u0275dir=cr({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&io("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&no("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Gt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Zt],skipLocationChange:[Gt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Zt],replaceUrl:[Gt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Zt],routerLink:"routerLink"},standalone:!0,features:[Xs,lr]});let t=e;return t})();var Ml=new P("");function em(t,...e){return ur([{provide:hi,multi:!0,useValue:t},[],{provide:Te,useFactory:Ll,deps:[pi]},{provide:co,multi:!0,useFactory:Ul},e.map(n=>n.\u0275providers)])}function Ll(t){return t.routerState.root}function Ul(){let t=I(Fe);return e=>{let n=t.get(gr);if(e!==n.components[0])return;let r=t.get(pi),i=t.get(xl);t.get(Fl)===1&&r.initialNavigation(),t.get($l,null,ar.Optional)?.setUpPreloading(),t.get(Ml,null,ar.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var xl=new P("",{factory:()=>new se}),Fl=new P("",{providedIn:"root",factory:()=>1});var $l=new P("");var ia=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jl=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(f=64)),r.push(n[d],n[h],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ia(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jl(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new mi;let f=s<<2|a>>4;if(r.push(f),u!==64){let y=a<<4&240|u>>2;if(r.push(y),h!==64){let L=u<<6&192|h;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mi=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Vl=function(t){let e=ia(t);return sa.encodeByteArray(e,!0)},Ot=function(t){return Vl(t).replace(/\./g,"")},Ii=function(t){try{return sa.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Hl(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zl=()=>Hl().__FIREBASE_DEFAULTS__,Wl=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Bl=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ii(t[1]);return e&&JSON.parse(e)},wn=()=>{try{return zl()||Wl()||Bl()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yi=t=>{var e,n;return(n=(e=wn())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rm=t=>{let e=yi(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wi=()=>{var t;return(t=wn())===null||t===void 0?void 0:t.config},Ei=t=>{var e;return(e=wn())===null||e===void 0?void 0:e[`_${t}`]};var yn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function im(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ot(JSON.stringify(n)),Ot(JSON.stringify(o)),""].join(".")}function O(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oa(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function ql(){var t;let e=(t=wn())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aa(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ca(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ua(){let t=O();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sm(){return!ql()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function la(){try{return typeof indexedDB=="object"}catch{return!1}}function da(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Gl="FirebaseError",j=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Gl,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}},Q=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Kl(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new j(i,a,r)}};function Kl(t,e){return t.replace(Yl,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Yl=/\{\$([^}]+)}/g;function ha(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ke(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(ra(s)&&ra(o)){if(!Ke(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function ra(t){return t!==null&&typeof t=="object"}function Pt(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ye(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Je(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fa(t,e){let n=new vi(t,e);return n.subscribe.bind(n)}var vi=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Jl(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gi),i.error===void 0&&(i.error=gi),i.complete===void 0&&(i.complete=gi);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Jl(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gi(){}var om=4*60*60*1e3;function G(t){return t&&t._delegate?t._delegate:t}var K=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var be="[DEFAULT]";var _i=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new yn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xl(e))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=be){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=be){return this.instances.has(e)}getOptions(e=be){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zl(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=be){return this.component?this.component.multipleInstances?e:be:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zl(t){return t===be?void 0:t}function Xl(t){return t.instantiationMode==="EAGER"}var En=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new _i(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Ql=[],E=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(E||{}),ed={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},td=E.INFO,nd={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},rd=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=nd[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ze=class{constructor(e){this.name=e,this._logLevel=td,this._logHandler=rd,this._userLogHandler=null,Ql.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in E))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ed[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...e),this._logHandler(this,E.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...e),this._logHandler(this,E.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,E.INFO,...e),this._logHandler(this,E.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,E.WARN,...e),this._logHandler(this,E.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...e),this._logHandler(this,E.ERROR,...e)}};var id=(t,e)=>e.some(n=>t instanceof n),pa,ga;function sd(){return pa||(pa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function od(){return ga||(ga=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ma=new WeakMap,Ti=new WeakMap,va=new WeakMap,Si=new WeakMap,Ri=new WeakMap;function ad(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Y(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ma.set(n,t)}).catch(()=>{}),Ri.set(e,t),e}function cd(t){if(Ti.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ti.set(t,e)}var bi={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ti.get(t);if(e==="objectStoreNames")return t.objectStoreNames||va.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Y(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ia(t){bi=t(bi)}function ud(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(_n(this),e,...n);return va.set(r,e.sort?e.sort():[e]),Y(r)}:od().includes(t)?function(...e){return t.apply(_n(this),e),Y(ma.get(this))}:function(...e){return Y(t.apply(_n(this),e))}}function ld(t){return typeof t=="function"?ud(t):(t instanceof IDBTransaction&&cd(t),id(t,sd())?new Proxy(t,bi):t)}function Y(t){if(t instanceof IDBRequest)return ad(t);if(Si.has(t))return Si.get(t);let e=ld(t);return e!==t&&(Si.set(t,e),Ri.set(e,t)),e}var _n=t=>Ri.get(t);function wa(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Y(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Y(o.result),c.oldVersion,c.newVersion,Y(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var dd=["get","getKey","getAll","getAllKeys","count"],hd=["put","add","delete","clear"],Ai=new Map;function ya(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ai.get(e))return Ai.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=hd.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dd.includes(n)))return;let s=function(o,...a){return l(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Ai.set(e,s),s}Ia(t=>A(p({},t),{get:(e,n,r)=>ya(e,n)||t.get(e,n,r),has:(e,n)=>!!ya(e,n)||t.has(e,n)}));var Oi=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fd(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function fd(t){let e=t.getComponent();return e?.type==="VERSION"}var Pi="@firebase/app",Ea="0.10.2";var Re=new Ze("@firebase/app"),pd="@firebase/app-compat",gd="@firebase/analytics-compat",md="@firebase/analytics",vd="@firebase/app-check-compat",Id="@firebase/app-check",yd="@firebase/auth",wd="@firebase/auth-compat",Ed="@firebase/database",_d="@firebase/database-compat",Sd="@firebase/functions",Td="@firebase/functions-compat",bd="@firebase/installations",Rd="@firebase/installations-compat",Ad="@firebase/messaging",Cd="@firebase/messaging-compat",Od="@firebase/performance",Pd="@firebase/performance-compat",Dd="@firebase/remote-config",kd="@firebase/remote-config-compat",Nd="@firebase/storage",Md="@firebase/storage-compat",Ld="@firebase/firestore",Ud="@firebase/firestore-compat",xd="firebase",Fd="10.11.1";var Di="[DEFAULT]",$d={[Pi]:"fire-core",[pd]:"fire-core-compat",[md]:"fire-analytics",[gd]:"fire-analytics-compat",[Id]:"fire-app-check",[vd]:"fire-app-check-compat",[yd]:"fire-auth",[wd]:"fire-auth-compat",[Ed]:"fire-rtdb",[_d]:"fire-rtdb-compat",[Sd]:"fire-fn",[Td]:"fire-fn-compat",[bd]:"fire-iid",[Rd]:"fire-iid-compat",[Ad]:"fire-fcm",[Cd]:"fire-fcm-compat",[Od]:"fire-perf",[Pd]:"fire-perf-compat",[Dd]:"fire-rc",[kd]:"fire-rc-compat",[Nd]:"fire-gcs",[Md]:"fire-gcs-compat",[Ld]:"fire-fst",[Ud]:"fire-fst-compat","fire-js":"fire-js",[xd]:"fire-js-all"};var Dt=new Map,jd=new Map,ki=new Map;function _a(t,e){try{t.container.addComponent(e)}catch(n){Re.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xe(t){let e=t.name;if(ki.has(e))return Re.debug(`There were multiple attempts to register component ${e}.`),!1;ki.set(e,t);for(let n of Dt.values())_a(n,t);for(let n of jd.values())_a(n,t);return!0}function Ui(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function V(t){return t.settings!==void 0}var Vd={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},he=new Q("app","Firebase",Vd);var Ni=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new K("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw he.create("app-deleted",{appName:this._name})}};var Qe=Fd;function xi(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Di,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw he.create("bad-app-name",{appName:String(i)});if(n||(n=wi()),!n)throw he.create("no-options");let s=Dt.get(i);if(s){if(Ke(n,s.options)&&Ke(r,s.config))return s;throw he.create("duplicate-app",{appName:i})}let o=new En(i);for(let c of ki.values())o.addComponent(c);let a=new Ni(n,r,o);return Dt.set(i,a),a}function Sn(t=Di){let e=Dt.get(t);if(!e&&t===Di&&wi())return xi();if(!e)throw he.create("no-app",{appName:t});return e}function Tn(){return Array.from(Dt.values())}function k(t,e,n){var r;let i=(r=$d[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Re.warn(a.join(" "));return}Xe(new K(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Hd="firebase-heartbeat-database",zd=1,kt="firebase-heartbeat-store",Ci=null;function Ra(){return Ci||(Ci=wa(Hd,zd,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kt)}catch(n){console.warn(n)}}}}).catch(t=>{throw he.create("idb-open",{originalErrorMessage:t.message})})),Ci}function Wd(t){return l(this,null,function*(){try{let n=(yield Ra()).transaction(kt),r=yield n.objectStore(kt).get(Aa(t));return yield n.done,r}catch(e){if(e instanceof j)Re.warn(e.message);else{let n=he.create("idb-get",{originalErrorMessage:e?.message});Re.warn(n.message)}}})}function Sa(t,e){return l(this,null,function*(){try{let r=(yield Ra()).transaction(kt,"readwrite");yield r.objectStore(kt).put(e,Aa(t)),yield r.done}catch(n){if(n instanceof j)Re.warn(n.message);else{let r=he.create("idb-set",{originalErrorMessage:n?.message});Re.warn(r.message)}}})}function Aa(t){return`${t.name}!${t.options.appId}`}var Bd=1024,qd=30*24*60*60*1e3,Mi=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Li(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ta();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=qd}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return l(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Ta(),{heartbeatsToSend:r,unsentEntries:i}=Gd(this._heartbeatsCache.heartbeats),s=Ot(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Ta(){return new Date().toISOString().substring(0,10)}function Gd(t,e=Bd){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ba(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ba(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Li=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return la()?da().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Wd(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Sa(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Sa(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ba(t){return Ot(JSON.stringify({version:2,heartbeats:t})).length}function Kd(t){Xe(new K("platform-logger",e=>new Oi(e),"PRIVATE")),Xe(new K("heartbeat",e=>new Mi(e),"PRIVATE")),k(Pi,Ea,t),k(Pi,Ea,"esm2017"),k("fire-js","")}Kd("");var Yd="firebase",Jd="10.11.1";k(Yd,Jd,"app");var Nt=new Yt("ANGULARFIRE2_VERSION");function Ca(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var $i=(t,e)=>{let n=e?[e]:Tn(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},bn=class{constructor(){return $i(Zd)}},Zd="app-check";function et(){}var Rn=class{zone;delegate;constructor(e,n=ks){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Fi=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et)),n.pipe(b({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},An=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Rn(Zone.current)),this.insideAngular=n.run(()=>new Rn(Zone.current,Ds)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(T(D))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cn(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Xd(t){return Cn().ngZone.runOutsideAngular(()=>t())}function Ae(t){return Cn().ngZone.run(()=>t())}function Qd(t){return eh(Cn())(t)}function eh(t){return function(n){return n=n.lift(new Fi(t.ngZone)),n.pipe(nr(t.outsideAngular),tr(t.insideAngular))}}var th=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ae(()=>t.apply(void 0,r))},ee=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ae(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et))),r[s]=th(r[s],n));let i=Xd(()=>t.apply(this,r));if(!e)if(i instanceof rt){let s=Cn();return i.pipe(nr(s.outsideAngular),tr(s.insideAngular))}else return Ae(()=>i);return i instanceof rt?i.pipe(Qd):i instanceof Promise?Ae(()=>new Promise((s,o)=>i.then(a=>Ae(()=>s(a)),a=>Ae(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ae(()=>i)};var Ce=class{constructor(e){return e}},Mt=class{constructor(){return Tn()}};function nh(t){return t&&t.length===1?t[0]:new Ce(Sn())}var ji=new P("angularfire2._apps"),rh={provide:Ce,useFactory:nh,deps:[[new X,ji]]},ih={provide:Mt,deps:[[new X,ji]]};function sh(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ce(r)}}var oh=(()=>{class t{constructor(n){k("angularfire",Nt.full,"core"),k("angularfire",Nt.full,"app"),k("angular",oo.full,n.toString())}static \u0275fac=function(r){return new(r||t)(T(we))};static \u0275mod=xe({type:t});static \u0275inj=Ue({providers:[rh,ih]})}return t})();function Wm(t,...e){return{ngModule:oh,providers:[{provide:ji,useFactory:sh(t),multi:!0,deps:[D,Fe,An,...e]}]}}var Bm=ee(xi,!0);function Ba(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qa=Ba,Ga=new Q("auth","Firebase",Ba());var Mn=new Ze("@firebase/auth");function ah(t,...e){Mn.logLevel<=E.WARN&&Mn.warn(`Auth (${Qe}): ${t}`,...e)}function Pn(t,...e){Mn.logLevel<=E.ERROR&&Mn.error(`Auth (${Qe}): ${t}`,...e)}function Z(t,...e){throw us(t,...e)}function Oe(t,...e){return us(t,...e)}function Ka(t,e,n){let r=Object.assign(Object.assign({},qa()),{[e]:n});return new Q("auth","Firebase",r).create(e,{appName:t.name})}function re(t){return Ka(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function us(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ga.create(t,...e)}function g(t,e,...n){if(!t)throw us(e,...n)}function te(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Pn(e),new Error(e)}function pe(t,e){t||te(e)}function Wi(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ch(){return Oa()==="http:"||Oa()==="https:"}function Oa(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function uh(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ch()||aa()||"connection"in navigator)?navigator.onLine:!0}function lh(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Pe=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,pe(n>e,"Short delay should be less than long delay!"),this.isMobile=oa()||ca()}get(){return uh()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ls(t,e){pe(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ln=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var dh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var hh=new Pe(3e4,6e4);function ge(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function me(s,o,a,c){return l(this,arguments,function*(t,e,n,r,i={}){return Ya(t,i,()=>l(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let h=Pt(Object.assign({key:t.config.apiKey},d)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),Ln.fetch()(Ja(t,t.config.apiHost,n,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},u))}))})}function Ya(t,e,n){return l(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},dh),e);try{let i=new Bi(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw On(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw On(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw On(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw On(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ka(t,d,u);Z(t,d)}}catch(i){if(i instanceof j)throw i;Z(t,"network-request-failed",{message:String(i)})}})}function Ht(s,o,a,c){return l(this,arguments,function*(t,e,n,r,i={}){let u=yield me(t,e,n,r,i);return"mfaPendingCredential"in u&&Z(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function Ja(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ls(t.config,i):`${t.config.apiScheme}://${i}`}function fh(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Bi=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oe(this.auth,"network-request-failed")),hh.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function On(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Oe(t,e,r);return i.customData._tokenResponse=n,i}function Pa(t){return t!==void 0&&t.enterprise!==void 0}var qi=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fh(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function ph(t,e){return l(this,null,function*(){return me(t,"GET","/v2/recaptchaConfig",ge(t,e))})}function gh(t,e){return l(this,null,function*(){return me(t,"POST","/v1/accounts:delete",e)})}function Za(t,e){return l(this,null,function*(){return me(t,"POST","/v1/accounts:lookup",e)})}function Lt(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ds(t,e=!1){return l(this,null,function*(){let n=G(t),r=yield n.getIdToken(e),i=hs(r);g(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Lt(Vi(i.auth_time)),issuedAtTime:Lt(Vi(i.iat)),expirationTime:Lt(Vi(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Vi(t){return Number(t)*1e3}function hs(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pn("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ii(n);return i?JSON.parse(i):(Pn("Failed to decode base64 JWT payload"),null)}catch(i){return Pn("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Da(t){let e=hs(t);return g(e,"internal-error"),g(typeof e.exp<"u","internal-error"),g(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function xt(t,e,n=!1){return l(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof j&&mh(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function mh({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Gi=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),n)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ft=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lt(this.lastLoginAt),this.creationTime=Lt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Un(t){return l(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield xt(t,Za(n,{idToken:r}));g(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Xa(s.providerUserInfo):[],a=vh(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ft(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function fs(t){return l(this,null,function*(){let e=G(t);yield Un(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function vh(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Xa(t){return t.map(e=>{var{providerId:n}=e,r=er(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Ih(t,e){return l(this,null,function*(){let n=yield Ya(t,{},()=>l(this,null,function*(){let r=Pt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Ja(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ln.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function yh(t,e){return l(this,null,function*(){return me(t,"POST","/v2/accounts:revokeToken",ge(t,e))})}var Ut=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){g(e.idToken,"internal-error"),g(typeof e.idToken<"u","internal-error"),g(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Da(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){g(e.length!==0,"internal-error");let n=Da(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return l(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(g(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Ih(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(g(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(g(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(g(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return te("not implemented")}};function fe(t,e){g(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var tt=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=er(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ft(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let n=yield xt(this,this.stsTokenManager.getToken(this.auth,e));return g(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ds(this,e)}reload(){return fs(this)}_assign(e){this!==e&&(g(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){g(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Un(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(V(this.auth.app))return Promise.reject(re(this.auth));let e=yield this.getIdToken();return yield xt(this,gh(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,L=(o=n.photoURL)!==null&&o!==void 0?o:void 0,ie=(a=n.tenantId)!==null&&a!==void 0?a:void 0,ve=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,H=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Bt=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Yn,emailVerified:Rs,isAnonymous:As,providerData:Jn,stsTokenManager:Cs}=n;g(Yn&&Cs,e,"internal-error");let bc=Ut.fromJSON(this.name,Cs);g(typeof Yn=="string",e,"internal-error"),fe(h,e.name),fe(f,e.name),g(typeof Rs=="boolean",e,"internal-error"),g(typeof As=="boolean",e,"internal-error"),fe(y,e.name),fe(L,e.name),fe(ie,e.name),fe(ve,e.name),fe(H,e.name),fe(Bt,e.name);let Zn=new t({uid:Yn,auth:e,email:f,emailVerified:Rs,displayName:h,isAnonymous:As,photoURL:L,phoneNumber:y,tenantId:ie,stsTokenManager:bc,createdAt:H,lastLoginAt:Bt});return Jn&&Array.isArray(Jn)&&(Zn.providerData=Jn.map(Rc=>Object.assign({},Rc))),ve&&(Zn._redirectEventId=ve),Zn}static _fromIdTokenResponse(e,n,r=!1){return l(this,null,function*(){let i=new Ut;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Un(s),s})}static _fromGetAccountInfoResponse(e,n,r){return l(this,null,function*(){let i=n.users[0];g(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Xa(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ut;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ft(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var ka=new Map;function ne(t){pe(t instanceof Function,"Expected a class definition");let e=ka.get(t);return e?(pe(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ka.set(t,e),e)}var wh=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(n,r){return l(this,null,function*(){this.storage[n]=r})}_get(n){return l(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return l(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ki=wh;function Dn(t,e,n){return`firebase:${t}:${e}:${n}`}var xn=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Dn(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dn("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?tt._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return l(this,null,function*(){if(!n.length)return new t(ne(Ki),e,r);let i=(yield Promise.all(n.map(u=>l(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||ne(Ki),o=Dn(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let h=tt._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>l(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function Na(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tc(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qa(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rc(e))return"Blackberry";if(ic(e))return"Webos";if(ps(e))return"Safari";if((e.includes("chrome/")||ec(e))&&!e.includes("edge/"))return"Chrome";if(nc(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Qa(t=O()){return/firefox\//i.test(t)}function ps(t=O()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ec(t=O()){return/crios\//i.test(t)}function tc(t=O()){return/iemobile/i.test(t)}function nc(t=O()){return/android/i.test(t)}function rc(t=O()){return/blackberry/i.test(t)}function ic(t=O()){return/webos/i.test(t)}function Bn(t=O()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Eh(t=O()){var e;return Bn(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _h(){return ua()&&document.documentMode===10}function sc(t=O()){return Bn(t)||nc(t)||ic(t)||rc(t)||/windows phone/i.test(t)||tc(t)}function Sh(){try{return!!(window&&window!==window.top)}catch{return!1}}function oc(t,e=[]){let n;switch(t){case"Browser":n=Na(O());break;case"Worker":n=`${Na(O())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qe}/${r}`}var Yi=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Th(n){return l(this,arguments,function*(t,e={}){return me(t,"GET","/v2/passwordPolicy",ge(t,e))})}var bh=6,Ji=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:bh,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Zi=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fn(this),this.idTokenSubscription=new Fn(this),this.beforeStateQueue=new Yi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ga,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ne(n)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield xn.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return l(this,null,function*(){try{let n=yield Za(this,{idToken:e}),r=yield tt._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return l(this,null,function*(){var n;if(V(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return g(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield Un(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=lh()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){if(V(this.app))return Promise.reject(re(this));let n=e?G(e):null;return n&&g(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return l(this,null,function*(){if(!this._deleted)return e&&g(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return V(this.app)?Promise.reject(re(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return V(this.app)?Promise.reject(re(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(ne(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield Th(this),n=new Ji(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Q("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield yh(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ne(e)||this._popupRedirectResolver;g(n,this,"argument-error"),this.redirectPersistenceManager=yield xn.create(this,[ne(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(g(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return g(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return l(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&ah(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ke(t){return G(t)}var Fn=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fa(n=>this.observer=n)}get next(){return g(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qn={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rh(t){qn=t}function ac(t){return qn.loadJS(t)}function Ah(){return qn.recaptchaEnterpriseScript}function Ch(){return qn.gapiScript}function cc(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Oh="recaptcha-enterprise",Ph="NO_RECAPTCHA",Xi=class{constructor(e){this.type=Oh,this.auth=ke(e)}verify(e="verify",n=!1){return l(this,null,function*(){function r(s){return l(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>l(this,null,function*(){ph(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new qi(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;Pa(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Ph)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Pa(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Ah();c.length!==0&&(c+=a),ac(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function Ma(t,e,n,r=!1){return l(this,null,function*(){let i=new Xi(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Qi(t,e,n,r){return l(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Ma(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>l(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield Ma(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function gs(t,e){let n=Ui(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ke(s,e??{}))return i;Z(i,"already-initialized")}return n.initialize({options:e})}function Dh(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ne);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ms(t,e,n){let r=ke(t);g(r._canInitEmulator,r,"emulator-config-failed"),g(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=uc(e),{host:o,port:a}=kh(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Nh()}function uc(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kh(t){let e=uc(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:La(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:La(o)}}}function La(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Nh(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var $t=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return te("not implemented")}_getIdTokenResponse(e){return te("not implemented")}_linkToIdToken(e,n){return te("not implemented")}_getReauthenticationResolver(e){return te("not implemented")}};function Mh(t,e){return l(this,null,function*(){return me(t,"POST","/v1/accounts:signUp",e)})}function Lh(t,e){return l(this,null,function*(){return Ht(t,"POST","/v1/accounts:signInWithPassword",ge(t,e))})}function Uh(t,e){return l(this,null,function*(){return Ht(t,"POST","/v1/accounts:signInWithEmailLink",ge(t,e))})}function xh(t,e){return l(this,null,function*(){return Ht(t,"POST","/v1/accounts:signInWithEmailLink",ge(t,e))})}var jt=class t extends $t{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return l(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qi(e,n,"signInWithPassword",Lh);case"emailLink":return Uh(e,{email:this._email,oobCode:this._password});default:Z(e,"internal-error")}})}_linkToIdToken(e,n){return l(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qi(e,r,"signUpPassword",Mh);case"emailLink":return xh(e,{idToken:n,email:this._email,oobCode:this._password});default:Z(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Hi(t,e){return l(this,null,function*(){return Ht(t,"POST","/v1/accounts:signInWithIdp",ge(t,e))})}function Fh(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $h(t){let e=Ye(Je(t)).link,n=e?Ye(Je(e)).deep_link_id:null,r=Ye(Je(t)).deep_link_id;return(r?Ye(Je(r)).link:null)||r||n||e||t}var $n=class t{constructor(e){var n,r,i,s,o,a;let c=Ye(Je(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=Fh((i=c.mode)!==null&&i!==void 0?i:null);g(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=$h(e);try{return new t(n)}catch{return null}}};var lc=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return jt._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=$n.parseLink(r);return g(i,"argument-error"),jt._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),jn=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var es=class extends jn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function jh(t,e){return l(this,null,function*(){return Ht(t,"POST","/v1/accounts:signUp",ge(t,e))})}var nt=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return l(this,null,function*(){let s=yield tt._fromIdTokenResponse(e,r,i),o=Ua(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Ua(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Ua(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ts=class t extends j{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function dc(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ts._fromErrorAndOperation(t,s,e,r):s})}function Vh(t,e,n=!1){return l(this,null,function*(){let r=yield xt(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return nt._forOperation(t,"link",r)})}function Hh(t,e,n=!1){return l(this,null,function*(){let{auth:r}=t;if(V(r.app))return Promise.reject(re(r));let i="reauthenticate";try{let s=yield xt(t,dc(r,i,e,t),n);g(s.idToken,r,"internal-error");let o=hs(s.idToken);g(o,r,"internal-error");let{sub:a}=o;return g(t.uid===a,r,"user-mismatch"),nt._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Z(r,"user-mismatch"),s}})}function hc(t,e,n=!1){return l(this,null,function*(){if(V(t.app))return Promise.reject(re(t));let r="signIn",i=yield dc(t,r,e),s=yield nt._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function vs(t,e){return l(this,null,function*(){return hc(ke(t),e)})}function fc(t){return l(this,null,function*(){let e=ke(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Is(t,e,n){return l(this,null,function*(){if(V(t.app))return Promise.reject(re(t));let r=ke(t),o=yield Qi(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jh).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&fc(t),c}),a=yield nt._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function ys(t,e,n){return V(t.app)?Promise.reject(re(t)):vs(G(t),lc.credential(e,n)).catch(r=>l(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&fc(t),r}))}function zt(t,e,n,r){return G(t).onIdTokenChanged(e,n,r)}function ws(t,e,n){return G(t).beforeAuthStateChanged(e,n)}function Gn(t,e,n,r){return G(t).onAuthStateChanged(e,n,r)}function Es(t){return G(t).signOut()}var Vn="__sak";var Hn=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vn,"1"),this.storage.removeItem(Vn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function zh(){let t=O();return ps(t)||Bn(t)}var Wh=1e3,Bh=10,qh=(()=>{class t extends Hn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=zh()&&Sh(),this.fallbackToPolling=sc(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);_h()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Bh):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Wh)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return l(this,null,function*(){yield Ie(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return l(this,null,function*(){let r=yield Ie(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return l(this,null,function*(){yield Ie(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),pc=qh;var Gh=(()=>{class t extends Hn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),_s=Gh;function Kh(t){return Promise.all(t.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Yh=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return l(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),u=yield Kh(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function gc(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ns=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=gc("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function J(){return window}function Jh(t){J().location.href=t}function mc(){return typeof J().WorkerGlobalScope<"u"&&typeof J().importScripts=="function"}function Zh(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Xh(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Qh(){return mc()?self:null}var vc="firebaseLocalStorageDb",ef=1,zn="firebaseLocalStorage",Ic="fbase_key",De=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Kn(t,e){return t.transaction([zn],e?"readwrite":"readonly").objectStore(zn)}function tf(){let t=indexedDB.deleteDatabase(vc);return new De(t).toPromise()}function rs(){let t=indexedDB.open(vc,ef);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(zn,{keyPath:Ic})}catch(i){n(i)}}),t.addEventListener("success",()=>l(this,null,function*(){let r=t.result;r.objectStoreNames.contains(zn)?e(r):(r.close(),yield tf(),e(yield rs()))}))})}function xa(t,e,n){return l(this,null,function*(){let r=Kn(t,!0).put({[Ic]:e,value:n});return new De(r).toPromise()})}function nf(t,e){return l(this,null,function*(){let n=Kn(t,!1).get(e),r=yield new De(n).toPromise();return r===void 0?null:r.value})}function Fa(t,e){let n=Kn(t,!0).delete(e);return new De(n).toPromise()}var rf=800,sf=3,of=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield rs(),this.db)})}_withRetries(n){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>sf)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return mc()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=Yh._getInstance(Qh()),this.receiver._subscribe("keyChanged",(n,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Zh(),!this.activeServiceWorker)return;this.sender=new ns(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Xh()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let n=yield rs();return yield xa(n,Vn,"1"),yield Fa(n,Vn),!0}catch{}return!1})}_withPendingWrite(n){return l(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>xa(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return l(this,null,function*(){let r=yield this._withRetries(i=>nf(i,n));return this.localCache[n]=r,r})}_remove(n){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Fa(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return l(this,null,function*(){let n=yield this._withRetries(s=>{let o=Kn(s,!1).getAll();return new De(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),rf)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),yc=of;var Qm=cc("rcb"),ev=new Pe(3e4,6e4);function af(t,e){return e?ne(e):(g(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Vt=class extends $t{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hi(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function cf(t){return hc(t.auth,new Vt(t),t.bypassAuthState)}function uf(t){let{auth:e,user:n}=t;return g(n,e,"internal-error"),Hh(n,new Vt(t),t.bypassAuthState)}function lf(t){return l(this,null,function*(){let{auth:e,user:n}=t;return g(n,e,"internal-error"),Vh(n,new Vt(t),t.bypassAuthState)})}var is=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cf;case"linkViaPopup":case"linkViaRedirect":return lf;case"reauthViaPopup":case"reauthViaRedirect":return uf;default:Z(this.auth,"internal-error")}}resolve(e){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var tv=new Pe(2e3,1e4);var df="pendingRedirect",kn=new Map,ss=class t extends is{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=kn.get(this.auth._key());if(!e){try{let r=(yield hf(this.resolver,this.auth))?yield Ie(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kn.set(this.auth._key(),e)}return this.bypassAuthState||kn.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return Ie(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ie(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function hf(t,e){return l(this,null,function*(){let n=gf(e),r=pf(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function ff(t,e){kn.set(t._key(),e)}function pf(t){return ne(t._redirectPersistence)}function gf(t){return Dn(df,t.config.apiKey,t.name)}function mf(t,e,n=!1){return l(this,null,function*(){if(V(t.app))return Promise.reject(re(t));let r=ke(t),i=af(r,e),o=yield new ss(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var vf=10*60*1e3,os=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!If(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wc(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oe(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vf&&this.cachedEventUids.clear(),this.cachedEventUids.has($a(e))}saveEventToCache(e){this.cachedEventUids.add($a(e)),this.lastProcessedEventTime=Date.now()}};function $a(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wc({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function If(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wc(t);default:return!1}}function yf(n){return l(this,arguments,function*(t,e={}){return me(t,"GET","/v1/projects",e)})}var wf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ef=/^https?/;function _f(t){return l(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield yf(t);for(let n of e)try{if(Sf(n))return}catch{}Z(t,"unauthorized-domain")})}function Sf(t){let e=Wi(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Ef.test(n))return!1;if(wf.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Tf=new Pe(3e4,6e4);function ja(){let t=J().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bf(t){return new Promise((e,n)=>{var r,i,s;function o(){ja(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ja(),n(Oe(t,"network-request-failed"))},timeout:Tf.get()})}if(!((i=(r=J().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=J().gapi)===null||s===void 0)&&s.load)o();else{let a=cc("iframefcb");return J()[a]=()=>{gapi.load?o():n(Oe(t,"network-request-failed"))},ac(`${Ch()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Nn=null,e})}var Nn=null;function Rf(t){return Nn=Nn||bf(t),Nn}var Af=new Pe(5e3,15e3),Cf="__/auth/iframe",Of="emulator/auth/iframe",Pf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Df=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kf(t){let e=t.config;g(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ls(e,Of):`https://${t.config.authDomain}/${Cf}`,r={apiKey:e.apiKey,appName:t.name,v:Qe},i=Df.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pt(r).slice(1)}`}function Nf(t){return l(this,null,function*(){let e=yield Rf(t),n=J().gapi;return g(n,t,"internal-error"),e.open({where:document.body,url:kf(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pf,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Oe(t,"network-request-failed"),a=J().setTimeout(()=>{s(o)},Af.get());function c(){J().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var Mf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lf=500,Uf=600,xf="_blank",Ff="http://localhost",Wn=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $f(t,e,n,r=Lf,i=Uf){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Mf),{width:r.toString(),height:i.toString(),top:s,left:o}),u=O().toLowerCase();n&&(a=ec(u)?xf:n),Qa(u)&&(e=e||Ff,c.scrollbars="yes");let d=Object.entries(c).reduce((f,[y,L])=>`${f}${y}=${L},`,"");if(Eh(u)&&a!=="_self")return jf(e||"",a),new Wn(null);let h=window.open(e||"",a,d);g(h,t,"popup-blocked");try{h.focus()}catch{}return new Wn(h)}function jf(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Vf="__/auth/handler",Hf="emulator/auth/handler",zf=encodeURIComponent("fac");function Va(t,e,n,r,i,s){return l(this,null,function*(){g(t.config.authDomain,t,"auth-domain-config-required"),g(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qe,eventId:i};if(e instanceof jn){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ha(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof es){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${zf}=${encodeURIComponent(c)}`:"";return`${Wf(t)}?${Pt(a).slice(1)}${u}`})}function Wf({config:t}){return t.emulator?ls(t,Hf):`https://${t.authDomain}/${Vf}`}var zi="webStorageSupport",as=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=mf,this._overrideRedirectResult=ff}_openPopup(e,n,r,i){return l(this,null,function*(){var s;pe((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Va(e,n,r,Wi(),i);return $f(e,o,gc())})}_openRedirect(e,n,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield Va(e,n,r,Wi(),i);return Jh(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pe(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return l(this,null,function*(){let n=yield Nf(e),r=new os(e);return n.register("authEvent",i=>(g(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zi,{type:zi},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[zi];o!==void 0&&n(!!o),Z(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_f(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sc()||ps()||Bn()}},Ec=as;var Ha="@firebase/auth",za="1.7.2";var cs=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){g(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Bf(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qf(t){Xe(new K("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;g(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oc(t)},u=new Zi(r,i,s,c);return Dh(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xe(new K("auth-internal",e=>{let n=ke(e.getProvider("auth").getImmediate());return(r=>new cs(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),k(Ha,za,Bf(t)),k(Ha,za,"esm2017")}var Gf=5*60,Kf=Ei("authIdTokenMaxAge")||Gf,Wa=null,Yf=t=>e=>l(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Kf)return;let i=n?.token;Wa!==i&&(Wa=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ss(t=Sn()){let e=Ui(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gs(t,{popupRedirectResolver:Ec,persistence:[yc,pc,_s]}),r=Ei("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Yf(s.toString());ws(n,o,()=>o(n.currentUser)),zt(n,a=>o(a))}}let i=yi("auth");return i&&ms(n,`http://${i}`),n}function Jf(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Rh({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Oe("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Jf().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qf("Browser");function Sc(t){return new rt(function(e){var n=zt(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var Tc="auth",Wt=class{constructor(e){return e}},Ts=class{constructor(){return $i(Tc)}};var bs=new P("angularfire2.auth-instances");function Fp(t,e){let n=Ca(Tc,t,e);return n&&new Wt(n)}function $p(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Wt(r)}}var jp={provide:Ts,deps:[[new X,bs]]},Vp={provide:Wt,useFactory:Fp,deps:[[new X,bs],Ce]},Hp=(()=>{class t{constructor(){k("angularfire",Nt.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=xe({type:t});static \u0275inj=Ue({providers:[Vp,jp]})}return t})();function Wv(t,...e){return{ngModule:Hp,providers:[{provide:bs,useFactory:$p(t),multi:!0,deps:[D,Fe,An,Mt,[new X,bn],...e]}]}}var Bv=ee(Sc,!0);var qv=ee(Is,!0);var Gv=ee(Ss,!0);var Kv=ee(Gn,!0);var Yv=ee(ys,!0);var Jv=ee(Es,!0);export{wg as a,Eu as b,pi as c,Qg as d,em as e,rm as f,im as g,O as h,sm as i,j,G as k,K as l,E as m,Ze as n,Xe as o,Ui as p,Qe as q,Sn as r,k as s,Nt as t,Ca as u,$i as v,bn as w,An as x,ee as y,Ce as z,Mt as A,Wm as B,Bm as C,Wt as D,Ts as E,Wv as F,Bv as G,qv as H,Gv as I,Kv as J,Yv as K,Jv as L};
